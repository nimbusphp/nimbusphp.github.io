<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nimbus PHP</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <canvas id="particles"></canvas>
  <div class="blur-overlay"></div>
  <div class="center-logo">
    <h1>NIMBUS</h1>
    <small>Coming Soon</small>
  </div>

  <script>
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const cloudImages = Array.from({ length: 6 }, (_, i) => {
      const img = new Image();
      img.src = `cloud${i + 1}.png`;
      return img;
    });

    const clouds = [];
    const cloudCount = window.innerWidth > 1200 ? 20 : 10;

    for (let i = 0; i < cloudCount; i++) {
      clouds.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: 200 + Math.random() * 200,
        speedX: 0.1 + Math.random() * 0.3,
        speedY: 0.02 + Math.random() * 0.08,
        opacity: 0.08 + Math.random() * 0.07,
        img: cloudImages[Math.floor(Math.random() * cloudImages.length)],
      });
    }

    function drawCloud(cloud) {
      ctx.globalAlpha = cloud.opacity;
      ctx.filter = "brightness(160%)";
      ctx.drawImage(cloud.img, cloud.x, cloud.y, cloud.size, cloud.size * 0.6);
      ctx.globalAlpha = 1;
      ctx.filter = "none";
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      clouds.forEach((cloud) => {
        drawCloud(cloud);
        cloud.x += cloud.speedX;
        cloud.y += cloud.speedY;

        if (cloud.x > canvas.width + cloud.size) {
          cloud.x = -cloud.size;
          cloud.y = Math.random() * canvas.height;
        }
      });
      requestAnimationFrame(animate);
    }

    Promise.all(
      cloudImages.map(
        (img) =>
          new Promise((resolve) => {
            img.onload = resolve;
          })
      )
    ).then(() => {
      animate();
    });

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    let resizeTimeout;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        resizeCanvas();
      }, 200);
    });
  </script>
</body>

</html>